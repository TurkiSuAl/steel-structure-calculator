<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø§Ø³Ø¨Ø© ØªÙƒÙ„ÙØ© Ø§Ù„Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠØ©</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap');
:root{
  --bg:#0f1117;--card:#1a1d27;--card2:#222638;--inp:#141620;
  --blue:#5b8ff9;--blue-g:rgba(91,143,249,.15);
  --green:#4caf7d;--green-g:rgba(76,175,125,.12);
  --amber:#f0a53a;--red:#ef5350;
  --text:#e2e4ea;--dim:#7e8494;--border:#2e3345;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'IBM Plex Sans Arabic',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;direction:rtl}

/* â”€â”€â”€ NAV TABS â”€â”€â”€ */
.nav{display:flex;justify-content:center;gap:6px;padding:20px 12px 0;flex-wrap:wrap}
.nav button{background:var(--card);border:1px solid var(--border);color:var(--dim);padding:9px 18px;border-radius:10px;font-size:.82rem;font-weight:600;cursor:pointer;font-family:inherit;transition:.2s;white-space:nowrap}
.nav button:hover{border-color:var(--blue);color:var(--text)}
.nav button.active{background:var(--blue);border-color:var(--blue);color:#fff;box-shadow:0 0 12px var(--blue-g)}

/* â”€â”€â”€ PAGES â”€â”€â”€ */
.page{display:none;max-width:1100px;margin:0 auto;padding:18px 14px 40px}
.page.show{display:block}

/* â”€â”€â”€ HEADER â”€â”€â”€ */
.pg-head{text-align:center;margin-bottom:22px}
.pg-head h1{font-size:1.4rem;font-weight:700;background:linear-gradient(135deg,var(--blue),var(--green));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.pg-head p{color:var(--dim);font-size:.78rem;margin-top:4px}

/* â”€â”€â”€ CARD â”€â”€â”€ */
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;margin-bottom:16px}
.ch{display:flex;align-items:center;gap:8px;padding:11px 16px;background:var(--card2);border-bottom:1px solid var(--border)}
.ch .icon{font-size:1.1rem}.ch h2{font-size:.85rem;font-weight:600}
.cb{padding:16px}

/* â”€â”€â”€ INPUT GRID (dims) â”€â”€â”€ */
.ig{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.ig-item label{display:block;font-size:.75rem;color:var(--dim);margin-bottom:5px;font-weight:500}
.ig-item .iw{position:relative}
.ig-item input{width:100%;background:var(--inp);border:1px solid var(--border);border-radius:7px;padding:8px 32px 8px 10px;color:var(--blue);font-size:.92rem;font-weight:700;font-family:inherit;text-align:right;transition:.2s}
.ig-item input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px var(--blue-g)}
.ig-item .u{position:absolute;left:9px;top:50%;transform:translateY(-50%);font-size:.7rem;color:var(--dim);pointer-events:none}

/* â”€â”€â”€ AUTO CALC ROW â”€â”€â”€ */
.acr{display:grid;grid-template-columns:repeat(3,1fr);gap:9px}
.ac-item{background:var(--green-g);border:1px solid rgba(76,175,125,.2);border-radius:9px;padding:10px 12px}
.ac-item .al{font-size:.7rem;color:var(--green);font-weight:600;margin-bottom:3px}
.ac-item .av{font-size:.95rem;font-weight:700}
.ac-item .au{font-size:.66rem;color:var(--dim)}

/* â”€â”€â”€ TABLE â”€â”€â”€ */
.tw{overflow-x:auto}
table{width:100%;border-collapse:collapse;font-size:.8rem}
th{background:var(--card2);color:var(--dim);font-weight:600;padding:9px 8px;text-align:right;border-bottom:1px solid var(--border);white-space:nowrap;font-size:.73rem}
td{padding:6px 8px;border-bottom:1px solid var(--border);text-align:right}
tr:last-child td{border-bottom:none}
tr:hover td{background:rgba(255,255,255,.02)}
td input,td select{background:var(--inp);border:1px solid transparent;border-radius:5px;padding:5px 7px;color:var(--blue);font-size:.8rem;font-family:inherit;width:100%;text-align:right;font-weight:600;transition:.2s}
td input:focus,td select:focus{outline:none;border-color:var(--blue)}
td select{cursor:pointer;appearance:none;-webkit-appearance:none}
td select option{background:var(--card);color:var(--text)}
.ro{color:var(--green) !important;font-weight:700;background:transparent !important;border-color:transparent !important;pointer-events:none}
.rn{color:var(--dim);font-weight:600;font-size:.76rem}
.nc{color:var(--dim);font-size:.72rem;font-style:italic}
td input.wide{width:100%}

/* ADD / DEL â”€â”€â”€ */
.btn-add{display:inline-flex;align-items:center;gap:5px;margin-top:10px;background:rgba(91,143,249,.08);border:1px dashed var(--blue);color:var(--blue);font-size:.76rem;padding:5px 13px;border-radius:7px;cursor:pointer;font-family:inherit;transition:.2s}
.btn-add:hover{background:rgba(91,143,249,.17)}
.btn-del{background:none;border:none;color:var(--dim);cursor:pointer;font-size:1rem;padding:1px 5px;border-radius:4px;transition:.2s}
.btn-del:hover{color:var(--red);background:rgba(239,83,80,.1)}

/* â”€â”€â”€ SUMMARY CARDS â”€â”€â”€ */
.sc-row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.sc{border-radius:11px;padding:16px 14px;text-align:center}
.sc.m{background:linear-gradient(135deg,rgba(91,143,249,.12),rgba(91,143,249,.04));border:1px solid rgba(91,143,249,.2)}
.sc.i{background:linear-gradient(135deg,rgba(240,165,58,.12),rgba(240,165,58,.04));border:1px solid rgba(240,165,58,.2)}
.sc.l{background:linear-gradient(135deg,rgba(76,175,125,.12),rgba(76,175,125,.04));border:1px solid rgba(76,175,125,.2)}
.sc .sl{font-size:.73rem;color:var(--dim);margin-bottom:5px;font-weight:600}
.sc .sv{font-size:1.25rem;font-weight:700}
.sc.m .sv{color:var(--blue)}.sc.i .sv{color:var(--amber)}.sc.l .sv{color:var(--green)}

.total-box{margin-top:14px;background:linear-gradient(135deg,rgba(239,83,80,.08),rgba(240,165,58,.06));border:1px solid rgba(239,83,80,.2);border-radius:11px;padding:16px 18px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}
.total-box .tbl{font-size:.84rem;color:var(--dim);font-weight:600}
.total-box .tbv{font-size:1.5rem;font-weight:700;color:var(--red)}
.total-box .tbs{font-size:.72rem;color:var(--dim);margin-top:2px}

.profit-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding:11px 14px;background:var(--card2);border-radius:9px;flex-wrap:wrap;gap:10px}
.profit-row .pri{display:flex;flex-direction:column}
.profit-row .prl{font-size:.7rem;color:var(--dim)}
.profit-row .prv{font-size:.95rem;font-weight:700;color:var(--green)}
.profit-row input{background:var(--inp);border:1px solid var(--border);border-radius:5px;padding:5px 26px 5px 8px;color:var(--blue);font-size:.88rem;font-weight:700;font-family:inherit;width:100px;text-align:right;margin-top:3px}
.profit-row input:focus{outline:none;border-color:var(--blue)}

/* LEGEND */
.legend{display:flex;gap:14px;margin-top:12px;flex-wrap:wrap}
.legend-i{display:flex;align-items:center;gap:5px;font-size:.74rem;color:var(--dim)}
.ld{width:9px;height:9px;border-radius:3px}.ld.b{background:var(--blue)}.ld.g{background:var(--green)}

/* â”€â”€â”€ INSTRUCTIONS PAGE â”€â”€â”€ */
.inst-list{list-style:none;counter-reset:inst}
.inst-list li{counter-increment:inst;display:flex;gap:12px;align-items:flex-start;padding:14px 0;border-bottom:1px solid var(--border)}
.inst-list li:last-child{border-bottom:none}
.inst-list .num{background:var(--blue);color:#fff;width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;flex-shrink:0}
.inst-list .txt{font-size:.84rem;line-height:1.5;color:var(--text)}
.inst-list .txt strong{color:var(--blue)}
.note-box{background:rgba(240,165,58,.07);border:1px solid rgba(240,165,58,.25);border-radius:10px;padding:14px 16px;margin-top:16px}
.note-box h3{color:var(--amber);font-size:.82rem;margin-bottom:8px}
.note-box ul{list-style:none;padding:0}
.note-box ul li{font-size:.79rem;color:var(--text);padding:4px 0;display:flex;gap:8px;align-items:flex-start}
.note-box ul li .ic{flex-shrink:0}

/* â”€â”€â”€ RESPONSIVE â”€â”€â”€ */
@media(max-width:640px){.ig,.acr,.sc-row{grid-template-columns:1fr 1fr}}
@media(max-width:380px){.ig,.acr,.sc-row{grid-template-columns:1fr}}

/* helpers */
.fmt{font-variant-numeric:tabular-nums}
.row-total-highlight td{background:rgba(240,165,58,.06);font-weight:700;color:var(--amber);border-top:2px solid rgba(240,165,58,.25) !important}

/* price-db highlight (editable price) */
.price-cell input{color:var(--amber) !important}

/* select with green border when auto-linked */
.linked-select{border-color:rgba(76,175,125,.4) !important}
</style>
</head>
<body>

<!-- PASSWORD OVERLAY -->
<div id="passwordOverlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(15,17,23,0.98);display:flex;align-items:center;justify-content:center;z-index:9999;">
  <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:40px;max-width:400px;width:90%;text-align:center;">
    <div style="font-size:4rem;margin-bottom:20px;">ğŸƒ</div>
    <h2 style="font-size:1.3rem;margin-bottom:10px;color:var(--text);">Ø¥Ø°Ø§ Ù…Ø§ Ù…Ø¹Ùƒ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±... Ø§Ø°Ù„Ù ğŸ˜ˆ</h2>
    <p style="color:var(--dim);font-size:.85rem;margin-bottom:25px;">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ØµØ±Ø­ Ù„Ù‡Ù… ÙÙ‚Ø·</p>
    <input type="password" id="passwordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" style="width:100%;background:var(--inp);border:1px solid var(--border);border-radius:8px;padding:12px 16px;color:var(--text);font-size:.95rem;font-family:inherit;text-align:center;margin-bottom:15px;" onkeypress="if(event.key==='Enter')checkPassword()">
    <button onclick="checkPassword()" style="width:100%;background:var(--blue);border:none;color:#fff;padding:12px;border-radius:8px;font-size:.9rem;font-weight:600;cursor:pointer;font-family:inherit;transition:.2s;">Ø¯Ø®ÙˆÙ„</button>
    <div id="errorMsg" style="color:var(--red);font-size:.8rem;margin-top:12px;display:none;">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©... Ø§Ø°Ù„Ù! ğŸƒ</div>
  </div>
</div>

<!-- NAV -->
<div class="nav">
  <button class="active" onclick="goTo('calc')">ğŸ“Š Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</button>
  <button onclick="goTo('mdb')">ğŸ§± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯</button>
  <button onclick="goTo('idb')">ğŸ”© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯</button>
  <button onclick="goTo('inst')">ğŸ“– Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª</button>
</div>

<!-- â•â•â•â•â•â•â•â• PAGE: Ø§Ù„Ø­Ø§Ø³Ø¨Ø© â•â•â•â•â•â•â•â• -->
<div class="page show" id="pg_calc">
  <div class="pg-head"><h1>ğŸ—ï¸ Ø­Ø§Ø³Ø¨Ø© ØªÙƒÙ„ÙØ© Ø§Ù„Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠØ© ÙˆØ£Ù„ÙˆØ§Ø­ Ø§Ù„Ø£Ø³Ù…Ù†Øª</h1><p>Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ â€” Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ØªØªØ­Ø¯Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</p></div>

  <!-- Ø£Ø¨Ø¹Ø§Ø¯ -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px">
    <div class="card">
      <div class="ch"><span class="icon">ğŸ“</span><h2>Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h2></div>
      <div class="cb">
        <div class="ig">
          <div class="ig-item"><label>Ø§Ù„Ø·ÙˆÙ„</label><div class="iw"><input type="number" id="i_L" value="10" oninput="calc()"><span class="u">Ù…</span></div></div>
          <div class="ig-item"><label>Ø§Ù„Ø¹Ø±Ø¶</label><div class="iw"><input type="number" id="i_W" value="22" oninput="calc()"><span class="u">Ù…</span></div></div>
          <div class="ig-item"><label>Ø§Ù„Ø§Ø±ØªÙØ§Ø¹</label><div class="iw"><input type="number" id="i_H" value="3" oninput="calc()"><span class="u">Ù…</span></div></div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="ch"><span class="icon">ğŸªŸ</span><h2>Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø²Ø¬Ø§Ø¬ / Ø§Ù„ÙØªØ­Ø§Øª</h2></div>
      <div class="cb">
        <div class="ig">
          <div class="ig-item"><label>Ø·ÙˆÙ„ Ø§Ù„Ø²Ø¬Ø§Ø¬</label><div class="iw"><input type="number" id="i_gL" value="3" oninput="calc()"><span class="u">Ù…</span></div></div>
          <div class="ig-item"><label>Ø¹Ø±Ø¶ Ø§Ù„Ø²Ø¬Ø§Ø¬</label><div class="iw"><input type="number" id="i_gW" value="1" oninput="calc()"><span class="u">Ù…</span></div></div>
          <div class="ig-item"><label>Ø¹Ø¯Ø¯ Ø§Ù„ÙØªØ­Ø§Øª</label><div class="iw"><input type="number" id="i_gN" value="31" oninput="calc()"><span class="u">Ø¹Ø¯Ø¯</span></div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ© -->
  <div class="card">
    <div class="ch"><span class="icon">ğŸ“Š</span><h2>Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</h2></div>
    <div class="cb">
      <div class="acr">
        <div class="ac-item"><div class="al">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø£Ø±Ø¶ÙŠØ©</div><div class="av fmt" id="o_floor">â€”</div><div class="au">Ù…Â²</div></div>
        <div class="ac-item"><div class="al">Ù…Ø­ÙŠØ· Ø§Ù„Ù…Ø¨Ù†Ù‰</div><div class="av fmt" id="o_peri">â€”</div><div class="au">Ù…</div></div>
        <div class="ac-item"><div class="al">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¬Ø¯Ø±Ø§Ù† Ø§Ù„ÙƒÙ„ÙŠØ©</div><div class="av fmt" id="o_wG">â€”</div><div class="au">Ù…Â²</div></div>
        <div class="ac-item"><div class="al">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø²Ø¬Ø§Ø¬</div><div class="av fmt" id="o_glass">â€”</div><div class="au">Ù…Â²</div></div>
        <div class="ac-item"><div class="al">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¬Ø¯Ø±Ø§Ù† Ø§Ù„ØµØ§ÙÙŠØ©</div><div class="av fmt" id="o_wN">â€”</div><div class="au">Ù…Â²</div></div>
        <div class="ac-item"><div class="al">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø³Ù‚Ù</div><div class="av fmt" id="o_roof">â€”</div><div class="au">Ù…Â²</div></div>
      </div>
      <div class="legend"><div class="legend-i"><div class="ld b"></div>Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª (Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„)</div><div class="legend-i"><div class="ld g"></div>Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</div></div>
    </div>
  </div>

  <!-- Ø§Ù„Ù…ÙˆØ§Ø¯ -->
  <div class="card">
    <div class="ch"><span class="icon">ğŸ§±</span><h2>Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„ØªØ´Ø·ÙŠØ¨Ø§Øª</h2></div>
    <div class="cb">
      <div class="tw"><table><thead><tr>
        <th style="width:26px"></th><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø³Ù…Ùƒ</th><th>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ø±.Ø³)</th><th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th><th style="width:26px"></th>
      </tr></thead><tbody id="tb_mat"></tbody></table></div>
      <button class="btn-add" onclick="addMat()">ï¼‹ Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©</button>
    </div>
  </div>

  <!-- Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ -->
  <div class="card">
    <div class="ch"><span class="icon">ğŸ”©</span><h2>Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ</h2></div>
    <div class="cb">
      <div class="tw"><table><thead><tr>
        <th>#</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ù…Ù‚Ø§Ø³</th><th>Ø§Ù„Ø³Ù…Ùƒ (mm)</th><th>Ø§Ù„Ø·ÙˆÙ„ (m)</th><th>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ø±.Ø³)</th><th style="width:26px"></th>
      </tr></thead><tbody id="tb_iron"></tbody></table></div>
      <button class="btn-add" onclick="addIron()">ï¼‹ Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±</button>
      <div style="margin-top:12px;text-align:left"><span style="color:var(--amber);font-weight:700;font-size:.84rem" class="fmt">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¯ÙŠØ¯: <span id="o_ironT">0</span> Ø±.Ø³</span></div>
    </div>
  </div>

  <!-- Ø§Ù„Ø¹Ù…Ø§Ù„Ø© -->
  <div class="card">
    <div class="ch"><span class="icon">ğŸ‘·</span><h2>Ø§Ù„Ø¹Ù…Ø§Ù„Ø© ÙˆØ§Ù„ØªØ±ÙƒÙŠØ¨</h2></div>
    <div class="cb">
      <div class="tw"><table><thead><tr>
        <th>Ø§Ù„Ø¨Ù†Ø¯</th><th>Ø§Ù„ÙˆØµÙ</th><th>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ø±.Ø³)</th><th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th><th style="width:26px"></th>
      </tr></thead><tbody id="tb_lab"></tbody></table></div>
      <button class="btn-add" onclick="addLab()">ï¼‹ Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯</button>
      <div style="margin-top:12px;text-align:left"><span style="color:var(--green);font-weight:700;font-size:.84rem" class="fmt">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ø§Ù„Ø©: <span id="o_labT">0</span> Ø±.Ø³</span></div>
    </div>
  </div>

  <!-- Ø§Ù„Ù…Ù„Ø®Øµ -->
  <div class="card">
    <div class="ch"><span class="icon">ğŸ’°</span><h2>Ù…Ù„Ø®Øµ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</h2></div>
    <div class="cb">
      <div class="sc-row">
        <div class="sc m"><div class="sl">Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„ØªØ´Ø·ÙŠØ¨Ø§Øª</div><div class="sv fmt" id="s_mat">0</div><div style="color:var(--dim);font-size:.7rem">Ø±.Ø³</div></div>
        <div class="sc i"><div class="sl">Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ</div><div class="sv fmt" id="s_iron">0</div><div style="color:var(--dim);font-size:.7rem">Ø±.Ø³</div></div>
        <div class="sc l"><div class="sl">Ø§Ù„Ø¹Ù…Ø§Ù„Ø©</div><div class="sv fmt" id="s_lab">0</div><div style="color:var(--dim);font-size:.7rem">Ø±.Ø³</div></div>
      </div>
      <div class="total-box">
        <div><div class="tbl">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙØ©</div><div class="tbv fmt" id="s_total">0</div></div>
        <div style="text-align:left"><div class="tbl">Ø§Ù„ØªÙƒÙ„ÙØ© Ù„ÙƒÙ„ Ù…Â² Ø£Ø±Ø¶ÙŠØ©</div><div class="tbv fmt" id="s_m2" style="font-size:1.15rem;color:var(--amber)">0</div><div class="tbs">Ø±.Ø³ / Ù…Â²</div></div>
      </div>
      <div class="profit-row">
        <div class="pri"><span class="prl">Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¨Ø­ %</span><div class="iw" style="position:relative"><input type="number" id="i_profit" value="0" oninput="calc()"><span style="position:absolute;left:8px;top:50%;transform:translateY(-50%);font-size:.7rem;color:var(--dim);pointer-events:none">%</span></div></div>
        <div class="pri" style="text-align:left"><span class="prl">Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span><span class="prv fmt" id="s_profAmt">0 Ø±.Ø³</span></div>
        <div class="pri" style="text-align:left"><span class="prl">Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ (Ù…Ø¹ Ø§Ù„Ø±Ø¨Ø­)</span><span class="prv fmt" id="s_sale" style="color:var(--red);font-size:1.1rem">0 Ø±.Ø³</span></div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â• PAGE: Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ â•â•â•â•â•â•â•â• -->
<div class="page" id="pg_mdb">
  <div class="pg-head"><h1>ğŸ§± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯</h1><p>ØºÙŠÙ‘Ø± Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù‡Ù†Ø§ ÙˆØªØªØ­Ø¯Ø« Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</p></div>
  <div class="card">
    <div class="ch"><span class="icon">ğŸ“‹</span><h2>Ø¬Ø¯ÙˆÙ„ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ</h2></div>
    <div class="cb">
      <div class="tw"><table><thead><tr>
        <th style="width:26px"></th><th>Ø§Ù„ÙØ¦Ø©</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø³Ù…Ùƒ</th><th>Ø§Ù„ÙˆØ­Ø¯Ø©</th><th style="color:var(--amber)">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø© (Ø±.Ø³)</th><th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th><th style="width:26px"></th>
      </tr></thead><tbody id="tb_mdb"></tbody></table></div>
      <button class="btn-add" onclick="addMdbRow()">ï¼‹ Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â• PAGE: Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯ â•â•â•â•â•â•â•â• -->
<div class="page" id="pg_idb">
  <div class="pg-head"><h1>ğŸ”© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯</h1><p>Ø£Ø¯Ø®Ù„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙˆØ£Ø³Ø¹Ø§Ø±Ù‡Ø§ â€” ØªØªØ­Ø¯Ø« ÙÙŠ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</p></div>
  <div class="card">
    <div class="ch"><span class="icon">ğŸ“‹</span><h2>Ø¬Ø¯ÙˆÙ„ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ</h2></div>
    <div class="cb">
      <div class="tw"><table><thead><tr>
        <th style="width:26px"></th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ù…Ù‚Ø§Ø³</th><th>Ø§Ù„Ø³Ù…Ùƒ (mm)</th><th>Ø§Ù„Ø·ÙˆÙ„ (m)</th><th style="color:var(--amber)">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø© (Ø±.Ø³)</th><th style="width:26px"></th>
      </tr></thead><tbody id="tb_idb"></tbody></table></div>
      <button class="btn-add" onclick="addIdbRow()">ï¼‹ Ø¥Ø¶Ø§ÙØ© Ù†ÙˆØ¹ Ø­Ø¯ÙŠØ¯ Ø¬Ø¯ÙŠØ¯</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â• PAGE: Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª â•â•â•â•â•â•â•â• -->
<div class="page" id="pg_inst">
  <div class="pg-head"><h1>ğŸ“– Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h1><p>ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</p></div>
  <div class="card">
    <div class="ch"><span class="icon">ğŸ“Œ</span><h2>Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h2></div>
    <div class="cb">
      <ol class="inst-list">
        <li><div class="num">1</div><div class="txt">Ø£Ø¯Ø®Ù„ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ <strong>(Ø§Ù„Ø·ÙˆÙ„ / Ø§Ù„Ø¹Ø±Ø¶ / Ø§Ù„Ø§Ø±ØªÙØ§Ø¹)</strong> ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</div></li>
        <li><div class="num">2</div><div class="txt">Ø£Ø¯Ø®Ù„ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø²Ø¬Ø§Ø¬ ÙˆØ§Ù„ÙØªØ­Ø§Øª <strong>(Ø·ÙˆÙ„ / Ø¹Ø±Ø¶ / Ø¹Ø¯Ø¯)</strong> ÙˆØ§Ù„ÙƒÙ…ÙŠØ§Øª ØªØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</div></li>
        <li><div class="num">3</div><div class="txt">Ø§Ø®ØªØ± Ù†ÙˆØ¹ ÙˆØ³Ù…Ùƒ ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… â€” Ø§Ù„Ø³Ø¹Ø± ÙŠØ¬ÙŠÙƒ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† <strong>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯</strong></div></li>
        <li><div class="num">4</div><div class="txt">Ø§Ø°Ù‡Ø¨ Ù„ØµÙØ­Ø© <strong>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯</strong> ÙˆØ£Ø¯Ø®Ù„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙˆØ£Ø³Ø¹Ø§Ø±Ù‡Ø§</div></li>
        <li><div class="num">5</div><div class="txt">Ø­Ø¯Ø¯ <strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¨Ø­</strong> Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ø®Øµ</div></li>
        <li><div class="num">6</div><div class="txt">Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙƒØ§Ù…Ù„Ø© ÙÙŠ <strong>Ù…Ù„Ø®Øµ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</strong> !</div></li>
      </ol>
    </div>
  </div>
  <div class="note-box">
    <h3>âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©</h3>
    <ul>
      <li><span class="ic">ğŸ”µ</span> Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡ = Ù…Ø¯Ø®Ù„Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</li>
      <li><span class="ic">ğŸŸ¢</span> Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ = Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</li>
      <li><span class="ic">ğŸŸ </span> Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ <strong>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯</strong> Ùˆ<strong>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯</strong> Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØºÙŠÙŠØ± Ù…Ù…ÙƒÙ† ØªØ¹Ø¯Ù‘Ù„Ù‡Ø§ Ù…ØªÙ‰ Ø´Ø§Ø¡</li>
      <li><span class="ic">â•</span> ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ§Ø¯ Ø£Ùˆ Ø¹Ù†Ø§ØµØ± Ø­Ø¯ÙŠØ¯ Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ ÙƒÙ„ Ø¬Ø¯ÙˆÙ„</li>
      <li><span class="ic">ğŸ“Š</span> Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© ØªØ´Ù…Ù„: Ø§Ù„Ù…ÙˆØ§Ø¯ + Ø§Ù„Ø­Ø¯ÙŠØ¯ + Ø§Ù„Ø¹Ù…Ø§Ù„Ø©</li>
    </ul>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCRIPT â•â•â•â•â•â•â•â• -->
<script>
// â”€â”€â”€ DATA STORES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ (ØµÙØ­Ø© Ù…Ø³ØªÙ‚Ù„Ø© + Ù…ØµØ¯Ø± Ø§Ù„Ø£Ø³Ø¹Ø§Ø±)
let mdb = [
  {cat:'Cement Board', type:'Standard',   thick:'6mm',  unit:'Ù„ÙˆØ­', price:41,  note:'Ø³Ø¹Ø± Ø§Ù„Ù„ÙˆØ­'},
  {cat:'Cement Board', type:'Standard',   thick:'9mm',  unit:'Ù„ÙˆØ­', price:45,  note:''},
  {cat:'Cement Board', type:'Standard',   thick:'10mm', unit:'Ù„ÙˆØ­', price:85,  note:''},
  {cat:'Cement Board', type:'Exterior',   thick:'12mm', unit:'Ù„ÙˆØ­', price:70,  note:''},
  {cat:'Cement Board', type:'Exterior',   thick:'9mm',  unit:'Ù„ÙˆØ­', price:45,  note:''},
  {cat:'Cement Board', type:'Exterior',   thick:'15mm', unit:'Ù„ÙˆØ­', price:110, note:''},
  {cat:'Cement Board', type:'Fire-Resistant', thick:'10mm', unit:'Ù„ÙˆØ­', price:105, note:''},
  {cat:'Cement Board', type:'Fire-Resistant', thick:'12mm', unit:'Ù„ÙˆØ­', price:120, note:''},
  {cat:'Cement Board', type:'Waterproof', thick:'12mm', unit:'Ù„ÙˆØ­', price:115, note:''},
  {cat:'Gypsum Board', type:'Regular',    thick:'12.5mm', unit:'Ù„ÙˆØ­', price:30,  note:'Ø³Ø¹Ø± Ø§Ù„Ù„ÙˆØ­'},
  {cat:'Gypsum Board', type:'Moisture Resistant', thick:'12.5mm', unit:'Ù„ÙˆØ­', price:45, note:''},
  {cat:'Gypsum Board', type:'Fire Rated', thick:'12.5mm', unit:'Ù„ÙˆØ­', price:55,  note:''},
  {cat:'Insulation',   type:'Rockwool',   thick:'50mm', unit:'Ù…Â²',  price:55,  note:'Ù„Ù„Ù…ØªØ± Ø§Ù„Ù…Ø±Ø¨Ø¹'},
  {cat:'Insulation',   type:'Rockwool',   thick:'75mm', unit:'Ù…Â²',  price:70,  note:''},
  {cat:'Insulation',   type:'Rockwool',   thick:'100mm',unit:'Ù…Â²',  price:90,  note:''},
  {cat:'Insulation',   type:'Glasswool',  thick:'50mm', unit:'Ù…Â²',  price:45,  note:''},
  {cat:'Insulation',   type:'Glasswool',  thick:'75mm', unit:'Ù…Â²',  price:60,  note:''},
  {cat:'Insulation',   type:'XPS Foam',   thick:'50mm', unit:'Ù…Â²',  price:65,  note:''},
  {cat:'Insulation',   type:'XPS Foam',   thick:'75mm', unit:'Ù…Â²',  price:85,  note:''},
  {cat:'Glass',        type:'Clear',      thick:'6mm',  unit:'Ù…Â²',  price:90,  note:'Ù„Ù„Ù…ØªØ± Ø§Ù„Ù…Ø±Ø¨Ø¹'},
  {cat:'Glass',        type:'Clear',      thick:'8mm',  unit:'Ù…Â²',  price:110, note:''},
  {cat:'Glass',        type:'Tinted',     thick:'6mm',  unit:'Ù…Â²',  price:110, note:''},
  {cat:'Glass',        type:'Tinted',     thick:'8mm',  unit:'Ù…Â²',  price:130, note:''},
  {cat:'Glass',        type:'Tempered',   thick:'8mm',  unit:'Ù…Â²',  price:140, note:''},
  {cat:'Glass',        type:'Tempered',   thick:'12mm', unit:'Ù…Â²',  price:170, note:''},
  {cat:'Glass',        type:'Double-Glazed', thick:'12mm', unit:'Ù…Â²', price:200, note:''},
  {cat:'Roof Panel',   type:'Sandwich Panel', thick:'50mm',  unit:'Ù…Â²', price:100, note:'Ù„Ù„Ù…ØªØ± Ø§Ù„Ù…Ø±Ø¨Ø¹'},
  {cat:'Roof Panel',   type:'Sandwich Panel', thick:'75mm',  unit:'Ù…Â²', price:130, note:''},
  {cat:'Roof Panel',   type:'Sandwich Panel', thick:'100mm', unit:'Ù…Â²', price:112, note:''},
  {cat:'Roof Panel',   type:'Shinko',     thick:'Standard', unit:'Ù…Â²', price:80,  note:''},
  {cat:'Roof Panel',   type:'Metal Sheet',thick:'0.5mm', unit:'Ù…Â²',  price:70,  note:''},
  {cat:'Roof Panel',   type:'Metal Sheet',thick:'0.7mm', unit:'Ù…Â²',  price:85,  note:''},
];

// Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©
let idb = [
  {type:'ØªÙŠÙˆØ¨',    size:'10*10',  thick:'1.25', len:6, price:84},
  {type:'ØªÙŠÙˆØ¨',    size:'20*20',  thick:'1.25', len:6, price:120},
  {type:'ØªÙŠÙˆØ¨',    size:'30*60',  thick:'1.25', len:6, price:30},
  {type:'ØªÙŠÙˆØ¨',    size:'40*80',  thick:'1.5',  len:6, price:40},
  {type:'Ø¬Ø³Ø± H',   size:'10*16',  thick:'10',   len:6, price:230},
  {type:'Ø¬Ø³Ø± H',   size:'15*20',  thick:'12',   len:6, price:320},
  {type:'Ø²Ø§ÙˆÙŠØ©',   size:'40*40',  thick:'4',    len:6, price:45},
  {type:'Ø²Ø§ÙˆÙŠØ©',   size:'50*50',  thick:'5',    len:6, price:65},
  {type:'Ù…Ø¬Ø±Ù‰ C',  size:'10*5',   thick:'2',    len:6, price:55},
  {type:'Ù…Ø¬Ø±Ù‰ C',  size:'15*7',   thick:'2.5',  len:6, price:75},
];

// Ø§Ù„Ù…ÙˆØ§Ø¯ ÙÙŠ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)
let mats = [
  {name:'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø®Ø§Ø±Ø¬ÙŠØ©', type:'Exterior',        thick:'12mm', price:65, unit:'Ù„ÙˆØ­', qty:35, note:'Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©', autoQty:false},
  {name:'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø¯Ø§Ø®Ù„ÙŠØ©', type:'Standard',        thick:'9mm',  price:45, unit:'Ù„ÙˆØ­', qty:35, note:'Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©', autoQty:false},
  {name:'Ø¹Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ (Ø¬Ø¯Ø±Ø§Ù†)',    type:'Rockwool',         thick:'50mm', price:55, unit:'Ù…Â²',  qty:0,  note:'ØªÙ„Ù‚Ø§Ø¦ÙŠ',         autoQty:'wallsNet'},
  {name:'Ø²Ø¬Ø§Ø¬ (Ù†ÙˆØ§ÙØ°/Ø£Ø¨ÙˆØ§Ø¨)',   type:'Tempered',         thick:'12mm', price:170,unit:'Ù…Â²',  qty:0,  note:'ØªÙ„Ù‚Ø§Ø¦ÙŠ',         autoQty:'glassArea'},
  {name:'Ø³Ù‚Ù (Ø³Ø§Ù†Ø¯ÙˆØªØ´ Ø¨Ø§Ù†Ù„)',   type:'Sandwich Panel',   thick:'100mm',price:112,unit:'Ù…Â²',  qty:0,  note:'ØªÙ„Ù‚Ø§Ø¦ÙŠ',         autoQty:'roof'},
  {name:'Ù…Ø³Ø§Ù…ÙŠØ± ÙˆØ¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª',    type:'â€”',                thick:'â€”',    price:15, unit:'Ù…Â²',  qty:0,  note:'ØªÙ‚Ø¯ÙŠØ± 15 Ø±.Ø³/Ù…Â²',autoQty:'totalSurface'},
  {name:'Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¯Ù‡Ø§Ù†',         type:'â€”',                thick:'â€”',    price:25, unit:'Ù…Â²',  qty:0,  note:'ØªÙ‚Ø¯ÙŠØ± 25 Ø±.Ø³/Ù…Â²',autoQty:'wallsNet'},
];

// Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ ÙÙŠ Ø§Ù„Ø­Ø§Ø³Ø¨Ø©
let irons = [
  {type:'ØªÙŠÙˆØ¨',  size:'10*10',  thick:'1.25', len:6, price:84,  qty:4},
  {type:'ØªÙŠÙˆØ¨',  size:'30*60',  thick:'1.25', len:6, price:30,  qty:6},
  {type:'Ø¬Ø³Ø± H', size:'10*16',  thick:'10',   len:6, price:230, qty:1},
];

// Ø§Ù„Ø¹Ù…Ø§Ù„Ø©
let labs = [
  {name:'ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ', desc:'Ù„Ø­Ø§Ù… + ØªØ±ÙƒÙŠØ¨',      price:50, unit:'Ù…Â²', note:'ØªÙ‚Ø¯ÙŠØ± 50 Ø±.Ø³/Ù…Â²', autoQty:'floor'},
  {name:'ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ ÙˆØ§Ù„Ø¹Ø²Ù„', desc:'Ø£Ù„ÙˆØ§Ø­ + Ø¹Ø²Ù„',        price:35, unit:'Ù…Â²', note:'ØªÙ‚Ø¯ÙŠØ± 35 Ø±.Ø³/Ù…Â²', autoQty:'totalSurface'},
  {name:'ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø³Ù‚Ù',          desc:'Ø³Ø§Ù†Ø¯ÙˆØªØ´ / Ø´ÙŠÙ†ÙƒÙˆ',    price:40, unit:'Ù…Â²', note:'ØªÙ‚Ø¯ÙŠØ± 40 Ø±.Ø³/Ù…Â²', autoQty:'roof'},
];

// â”€â”€â”€ COMPUTED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let C = {};
function dims(){
  const L=+v('i_L'),W=+v('i_W'),H=+v('i_H');
  const gL=+v('i_gL'),gW=+v('i_gW'),gN=+v('i_gN');
  C.floor     = L*W;
  C.peri      = 2*(L+W);
  C.wallsGross= C.peri*H;
  C.glassArea = gL*gW*gN;
  C.wallsNet  = C.wallsGross - C.glassArea;
  C.roof      = C.floor;
  C.totalSurface = C.wallsGross + C.floor; // Ø¬Ø¯Ø±Ø§Ù† ÙƒÙ„ÙŠØ© + Ø£Ø±Ø¶ÙŠØ©
}
function v(id){return document.getElementById(id)?.value||0}
function fmt(n){return (n==null||isNaN(n))?'0':Number(n).toLocaleString('ar-SA',{maximumFractionDigits:2})}

// resolve autoQty
function autoQ(key){
  if(!key) return null;
  return C[key]!=null ? C[key] : 0;
}

// â”€â”€â”€ PAGE NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goTo(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('show'));
  document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById('pg_'+id).classList.add('show');
  const idx = ['calc','mdb','idb','inst'].indexOf(id);
  document.querySelectorAll('.nav button')[idx].classList.add('active');
  if(id==='calc') calc();
  if(id==='mdb') renderMdb();
  if(id==='idb') renderIdb();
}

// â”€â”€â”€ CALC (main page) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function calc(){
  dims();
  // update auto-calc display
  document.getElementById('o_floor').textContent  = fmt(C.floor);
  document.getElementById('o_peri').textContent   = fmt(C.peri);
  document.getElementById('o_wG').textContent     = fmt(C.wallsGross);
  document.getElementById('o_glass').textContent  = fmt(C.glassArea);
  document.getElementById('o_wN').textContent     = fmt(C.wallsNet);
  document.getElementById('o_roof').textContent   = fmt(C.roof);

  renderMats();
  renderIrons();
  renderLabs();

  // totals
  let matT=0, ironT=0, labT=0;
  mats.forEach(m=>{let q=m.autoQty?autoQ(m.autoQty):m.qty; matT+=m.price*q;});
  irons.forEach(it=> ironT+=it.price*it.qty);
  labs.forEach(lb=>{let q=lb.autoQty?autoQ(lb.autoQty):0; labT+=lb.price*q;});

  document.getElementById('o_ironT').textContent  = fmt(ironT);
  document.getElementById('o_labT').textContent   = fmt(labT);
  document.getElementById('s_mat').textContent    = fmt(matT);
  document.getElementById('s_iron').textContent   = fmt(ironT);
  document.getElementById('s_lab').textContent    = fmt(labT);

  const grand = matT+ironT+labT;
  const perM2  = C.floor ? grand/C.floor : 0;
  const pct    = +v('i_profit');
  const profAmt= grand*pct/100;

  document.getElementById('s_total').textContent    = fmt(grand);
  document.getElementById('s_m2').textContent       = fmt(perM2);
  document.getElementById('s_profAmt').textContent  = fmt(profAmt)+' Ø±.Ø³';
  document.getElementById('s_sale').textContent     = fmt(grand+profAmt)+' Ø±.Ø³';
}

// â”€â”€â”€ RENDER MATS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderMats(){
  const tb = document.getElementById('tb_mat');
  // build category dropdown options from mdb
  const cats = [...new Set(mdb.map(r=>r.cat))];
  const catMap = { 'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø®Ø§Ø±Ø¬ÙŠØ©':'Cement Board', 'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø¯Ø§Ø®Ù„ÙŠØ©':'Cement Board',
                   'Ø¹Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ (Ø¬Ø¯Ø±Ø§Ù†)':'Insulation', 'Ø²Ø¬Ø§Ø¬ (Ù†ÙˆØ§ÙØ°/Ø£Ø¨ÙˆØ§Ø¨)':'Glass',
                   'Ø³Ù‚Ù (Ø³Ø§Ù†Ø¯ÙˆØªØ´ Ø¨Ø§Ù†Ù„)':'Roof Panel' };

  tb.innerHTML = mats.map((m,i)=>{
    const q = m.autoQty ? autoQ(m.autoQty) : m.qty;
    const tot = m.price * q;
    // type options from mdb filtered by relevant cat
    const cat = catMap[m.name] || '';
    const types = [...new Set(mdb.filter(r=>r.cat===cat).map(r=>r.type))];
    const thicks= [...new Set(mdb.filter(r=>r.cat===cat && r.type===m.type).map(r=>r.thick))];

    let typeOpts = types.length ? types.map(t=>`<option value="${t}" ${m.type===t?'selected':''} >${t}</option>`).join('') : `<option>${m.type}</option>`;
    let thickOpts= thicks.length ? thicks.map(t=>`<option value="${t}" ${m.thick===t?'selected':''} >${t}</option>`).join('') : `<option>${m.thick}</option>`;

    return `<tr>
      <td class="rn">${i+1}</td>
      <td><input type="text" value="${m.name}" oninput="mats[${i}].name=this.value;calc()"></td>
      <td>${types.length ? `<select onchange="mats[${i}].type=this.value;syncPrice(${i});calc()">` + typeOpts + '</select>' : `<input type="text" value="${m.type}" oninput="mats[${i}].type=this.value">`}</td>
      <td>${thicks.length ? `<select onchange="mats[${i}].thick=this.value;syncPrice(${i});calc()">` + thickOpts + '</select>' : `<input type="text" value="${m.thick}" oninput="mats[${i}].thick=this.value">`}</td>
      <td class="price-cell"><input type="number" value="${m.price}" oninput="mats[${i}].price=+this.value;calc()"></td>
      <td><input type="text" value="${m.unit}" readonly style="color:var(--dim);font-weight:400;pointer-events:none"></td>
      <td>${m.autoQty ? `<input type="number" class="ro" value="${fmt(q)}" readonly>` : `<input type="number" value="${q}" oninput="mats[${i}].qty=+this.value;calc()">`}</td>
      <td><input type="text" class="ro" value="${fmt(tot)}" readonly></td>
      <td class="nc">${m.note}</td>
      <td><button class="btn-del" onclick="mats.splice(${i},1);calc()">Ã—</button></td>
    </tr>`;
  }).join('');
}

// sync price from mdb when type/thick changes
function syncPrice(i){
  const m = mats[i];
  const catMap = { 'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø®Ø§Ø±Ø¬ÙŠØ©':'Cement Board', 'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø¯Ø§Ø®Ù„ÙŠØ©':'Cement Board',
                   'Ø¹Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ (Ø¬Ø¯Ø±Ø§Ù†)':'Insulation', 'Ø²Ø¬Ø§Ø¬ (Ù†ÙˆØ§ÙØ°/Ø£Ø¨ÙˆØ§Ø¨)':'Glass',
                   'Ø³Ù‚Ù (Ø³Ø§Ù†Ø¯ÙˆØªØ´ Ø¨Ø§Ù†Ù„)':'Roof Panel' };
  const cat = catMap[m.name];
  const match = mdb.find(r=> r.cat===cat && r.type===m.type && r.thick===m.thick);
  if(match) m.price = match.price;
}

function addMat(){
  mats.push({name:'Ù…Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©',type:'â€”',thick:'â€”',price:0,unit:'Ù…Â²',qty:0,note:'',autoQty:false});
  calc();
}

// â”€â”€â”€ RENDER IRONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderIrons(){
  const tb = document.getElementById('tb_iron');
  // build type options from idb
  const types = [...new Set(idb.map(r=>r.type))];

  tb.innerHTML = irons.map((it,i)=>{
    const tot = it.price * it.qty;
    const sizes = [...new Set(idb.filter(r=>r.type===it.type).map(r=>r.size))];
    let typeOpts = types.map(t=>`<option value="${t}" ${it.type===t?'selected':''} >${t}</option>`).join('');
    let sizeOpts = sizes.length ? sizes.map(s=>`<option value="${s}" ${it.size===s?'selected':''} >${s}</option>`).join('') : `<option>${it.size}</option>`;

    return `<tr>
      <td class="rn">${i+1}</td>
      <td><select onchange="irons[${i}].type=this.value;syncIronPrice(${i});calc()">${typeOpts}</select></td>
      <td>${sizes.length ? `<select onchange="irons[${i}].size=this.value;syncIronPrice(${i});calc()">${sizeOpts}</select>` : `<input type="text" value="${it.size}" oninput="irons[${i}].size=this.value;calc()">`}</td>
      <td><input type="text" value="${it.thick}" readonly style="color:var(--dim);font-weight:400;pointer-events:none"></td>
      <td><input type="text" value="${it.len}" readonly style="color:var(--dim);font-weight:400;pointer-events:none"></td>
      <td class="price-cell"><input type="number" value="${it.price}" oninput="irons[${i}].price=+this.value;calc()"></td>
      <td><input type="number" value="${it.qty}" oninput="irons[${i}].qty=+this.value;calc()"></td>
      <td><input type="text" class="ro" value="${fmt(tot)}" readonly></td>
      <td><button class="btn-del" onclick="irons.splice(${i},1);calc()">Ã—</button></td>
    </tr>`;
  }).join('');
}

function syncIronPrice(i){
  const it = irons[i];
  const match = idb.find(r=> r.type===it.type && r.size===it.size);
  if(match){ it.price=match.price; it.thick=match.thick; it.len=match.len; }
}

function addIron(){
  irons.push({type:idb[0].type, size:idb[0].size, thick:idb[0].thick, len:idb[0].len, price:idb[0].price, qty:0});
  calc();
}

// â”€â”€â”€ RENDER LABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderLabs(){
  const tb = document.getElementById('tb_lab');
  tb.innerHTML = labs.map((lb,i)=>{
    const q = lb.autoQty ? autoQ(lb.autoQty) : 0;
    const tot = lb.price * q;
    return `<tr>
      <td><input type="text" value="${lb.name}" oninput="labs[${i}].name=this.value;calc()"></td>
      <td><input type="text" value="${lb.desc}" oninput="labs[${i}].desc=this.value"></td>
      <td class="price-cell"><input type="number" value="${lb.price}" oninput="labs[${i}].price=+this.value;calc()"></td>
      <td><input type="text" value="${lb.unit}" readonly style="color:var(--dim);font-weight:400;pointer-events:none"></td>
      <td><input type="number" class="ro" value="${fmt(q)}" readonly></td>
      <td><input type="text" class="ro" value="${fmt(tot)}" readonly></td>
      <td class="nc">${lb.note}</td>
      <td><button class="btn-del" onclick="labs.splice(${i},1);calc()">Ã—</button></td>
    </tr>`;
  }).join('');
}

function addLab(){
  labs.push({name:'Ø¨Ù†Ø¯ Ø¬Ø¯ÙŠØ¯', desc:'â€”', price:0, unit:'Ù…Â²', note:'', autoQty:false});
  calc();
}

// â”€â”€â”€ RENDER MDB (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ page) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderMdb(){
  const tb = document.getElementById('tb_mdb');
  tb.innerHTML = mdb.map((r,i)=> `<tr>
    <td class="rn">${i+1}</td>
    <td><input type="text" value="${r.cat}" oninput="mdb[${i}].cat=this.value;renderMdb();calc()"></td>
    <td><input type="text" value="${r.type}" oninput="mdb[${i}].type=this.value;renderMdb();calc()"></td>
    <td><input type="text" value="${r.thick}" oninput="mdb[${i}].thick=this.value;renderMdb();calc()"></td>
    <td><input type="text" value="${r.unit}" oninput="mdb[${i}].unit=this.value"></td>
    <td class="price-cell"><input type="number" value="${r.price}" oninput="mdb[${i}].price=+this.value;syncAllFromMdb();calc()"></td>
    <td class="nc">${r.note}</td>
    <td><button class="btn-del" onclick="mdb.splice(${i},1);renderMdb();calc()">Ã—</button></td>
  </tr>`).join('');
}

// when mdb price changes â†’ update matching mats prices
function syncAllFromMdb(){
  const catMap = { 'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø®Ø§Ø±Ø¬ÙŠØ©':'Cement Board', 'Ø£Ù„ÙˆØ§Ø­ Ø£Ø³Ù…Ù†ØªÙŠØ© Ø¯Ø§Ø®Ù„ÙŠØ©':'Cement Board',
                   'Ø¹Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ (Ø¬Ø¯Ø±Ø§Ù†)':'Insulation', 'Ø²Ø¬Ø§Ø¬ (Ù†ÙˆØ§ÙØ°/Ø£Ø¨ÙˆØ§Ø¨)':'Glass',
                   'Ø³Ù‚Ù (Ø³Ø§Ù†Ø¯ÙˆØªØ´ Ø¨Ø§Ù†Ù„)':'Roof Panel' };
  mats.forEach(m=>{
    const cat = catMap[m.name];
    if(!cat) return;
    const match = mdb.find(r=> r.cat===cat && r.type===m.type && r.thick===m.thick);
    if(match) m.price = match.price;
  });
}

function addMdbRow(){
  mdb.push({cat:'Cement Board', type:'Standard', thick:'6mm', unit:'Ù„ÙˆØ­', price:0, note:''});
  renderMdb();
}

// â”€â”€â”€ RENDER IDB (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯ page) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderIdb(){
  const tb = document.getElementById('tb_idb');
  tb.innerHTML = idb.map((r,i)=> `<tr>
    <td class="rn">${i+1}</td>
    <td><input type="text" value="${r.type}" oninput="idb[${i}].type=this.value;renderIdb();calc()"></td>
    <td><input type="text" value="${r.size}" oninput="idb[${i}].size=this.value;renderIdb();calc()"></td>
    <td><input type="text" value="${r.thick}" oninput="idb[${i}].thick=this.value"></td>
    <td><input type="number" value="${r.len}" oninput="idb[${i}].len=+this.value"></td>
    <td class="price-cell"><input type="number" value="${r.price}" oninput="idb[${i}].price=+this.value;syncAllFromIdb();calc()"></td>
    <td><button class="btn-del" onclick="idb.splice(${i},1);renderIdb();calc()">Ã—</button></td>
  </tr>`).join('');
}

function syncAllFromIdb(){
  irons.forEach(it=>{
    const match = idb.find(r=> r.type===it.type && r.size===it.size);
    if(match) it.price = match.price;
  });
}

function addIdbRow(){
  idb.push({type:'ØªÙŠÙˆØ¨', size:'â€”', thick:'â€”', len:6, price:0});
  renderIdb();
}

// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
calc();

// â”€â”€â”€ PASSWORD PROTECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function checkPassword() {
  const input = document.getElementById('passwordInput').value;
  const correctPassword = 'Turki305';
  
  if (input === correctPassword) {
    document.getElementById('passwordOverlay').style.display = 'none';
    document.getElementById('passwordInput').value = '';
  } else {
    const errorMsg = document.getElementById('errorMsg');
    errorMsg.style.display = 'block';
    document.getElementById('passwordInput').value = '';
    document.getElementById('passwordInput').focus();
    
    setTimeout(() => {
      errorMsg.style.display = 'none';
    }, 3000);
  }
}

// Focus on password input when page loads
window.addEventListener('load', () => {
  document.getElementById('passwordInput').focus();
});
</script>
</body>
</html>
